---
title: "[AWS] Auto Scaling 개념 원리 & 사용 세팅"
description: ""
id: "C288"
no: 288
order: 288
category: "aws"
subCategory: "scaling"
tags: ["Auto Scaling", "자동확장", "트래픽", "부하분산", "확장성"]
created: "2025-07-30T04:41:43.322Z"
updated: "2025-08-11T01:21:27.270Z"
featured: false
draft: true
hasChildren: false
elementCount: 250
childCount: 0
slug: "C288"
---

# 오토 스케일링 (Auto Scaling)



클라우드 컴퓨팅의 대표적인 장점으로는 <u>**필요에 따라 서비스를 빠르게 확장하거나 축소할 수 있는 유연성**</u>을 들 수 있다.

그중, **오토스케일링(Auto Scaling)**은 클라우드의 유연성을 돋보이게 하는 핵심기술로 CPU, 메모리, 디스크, 네트워크 트래픽과 같은 

시스템 자원들의 메트릭(Metric) 값을 모니터링하여 <u>**서버 사이즈를 자동으로 조절**</u> 하는 서비스를 말한다.

이를 통해 사용자는 예상치 못한 서비스 부하에 효과적으로 대응하고, 최대한 저렴한 비용으로 안정적이고 예측 가능한 성능을 유지 할수 있다.



## 스케일링 이란?

오토스케일링(Auto Scaling)에 대해 배우기 앞서 **스케일링(Scaling)**이 정확히 무엇을 의미하는지 간단하게 짚고 넘어가도록 하자.

스케일링 이란 <u>**인스턴스 혹은 컴퓨팅 파워를 늘리는 것**</u>을 말한다.

스케일링의 방법에는 대표적으로 2가지가 있다.

![file](/images/83d471b9cdad1fa9d630b1a02c2aa546.jpg)



### 스케일 업(Scale Up)

![file](/images/a8247e2040f03a6bd960bc3686c350f7.jpg)

cpu가 하나이고 memory 1기가인 인스턴스가 있다고 가정하자.

만일 인스턴스의 성능을 16배로 늘려야할 상황이 온다면, 말 그대로 <u>**16배 큰 인스턴스를 사용**</u>함으로서 성능을 올리는 것을 **스케일 업**이라고 한다. 

하지만 이는 성능과 비용이 비례하지 않는다는 단점이 있다.

 

주변에서 간단히 예를 들면 **그래픽카드**를 볼 수 있다. (그래픽카드 지식이 있으신 게이머 분들만 보세요!)

GTX 1080과 RTX 2080의 성능 차이는 30%밖에 안되지만 가격 차이는 두배가 넘는다.

물론 RTX 3080같은 명작도 가끔 나오지만 역시 엄청 비싸다.

거기다 만일 1,000,000배 높은 성능을 사용하고 싶다면 비용은 어마어마 할것이고, 물리적으로 가능한지도 고민 해봐야 한다.



### 스케일 아웃(Scale Out)

![file](/images/1d6bdeae38ce05c4630af644b174b642.jpg)

위의 <u>**물리적인 문제를 해결**</u>하는것이 바로 **스케일 아웃** 이다.

 

스케일 아웃은 <u>**규모를 늘리는 것**</u>이다.

즉, 10만배 성능이 좋은 그래픽카드는 현실에서도 존재하지도 않으니 여러개 장착 해서 성능을 올려보자는 개념이다.

하지만 이는 물리적으로 불가능하다. 메인보드에는 그래픽카드를 최대 2개밖에 장착하지 못하며, 만일 수십개를 장착할 수 있다고 해도 공간을 고려해야 되지 때문이다.

 

그러나 **클라우드는 상황이 다르다.** (왜 클라우드가 인기있는 이유이기도 하다)

성능을 16배 올리고 싶으면 그냥 인스턴스를 16개 가져다가 쓰면 된다.

공간의 제약이나 하드웨어적인 제약이 없다.

그리고 성능과 비용이 비례하다는 특징도 가지고 있다. (그래픽카드 크로스파이어(글카 2개 장착) 같은경우 30%밖에 성능 향상폭이 미미하다)

 

따라서, 클라우드 환경에서는 <u>**Scale Out을 항상 염두하며 설계**</u>를 해야 한다.

수요에 따라 인스턴스를 덜 쓸 수도, 더 쓸 수도 있음으로서 유연성을 가질 수 있기 때문이다.



### 스케일 인(Scale In)

scale out으로 늘린 인스턴스를 다시 줄이는 행위로 이해하면 된다.

![file](/images/eb2f81858b494d3d62d8cf03b6f7da2b.jpg)



이처럼, 오토 스케일링(Auto Scaling)은 바로 **Scale Out을 자동화(Auto)** 하기 위해 나온 서비스라고 보면 된다.

애플리케이션을 <u>**모니터링 하고 용량을 자동으로 조정**</u>하는 역할을 하며, 최대한 <u>**저렴한 비용으로 안정적이고 예측 가능한 성능을 유지**</u> 한다.

그래서 몇 분만에 손쉽게 여러 서비스 전체에서 여러 리소스에 대해 애플리케이션 규모 조정을 설정 할 수 있다.



## 오토 스케일링의 목표



1. **정확한 수의 EC2 인스턴스를 보유**하도록 보장

  - 그룹의 최소 인스턴스 숫자와 최대 인스턴스 숫자를 관리
  - 만약 애플리케이션을 실행하기 위해 인스턴스가 3개가 필요하다면, 3대 이상의 인스턴스가 항상 떠있을 수 있게 보장한다.
  - 최소 숫자 이하로 내려가지 않도록 인스턴스 숫자를 유지 (인스턴스 추가)
  - 최대 숫자 이상 늘어자니 않도록 인스턴스 숫자 유지 (인스턴스 삭제)


2. 다양한 스케일링 정책 적용 가능

  - CPU의 부하에 따라 인스턴스 크기 늘리기/줄이기 (오후 2시가 되면 게임 접속 트래픽이 많으니 인스턴스 확 올리고, 
 새벽 2시가 되면 접속 트래픽이 낮으니 인스턴스를 내린다.)


3. 가용영역에 인스턴스가 골고루 분산될 수 있도록 인스턴스를 분배

  - 서비스 장애가 발생하더라도 문제없이 서비스 이용


또한, AWS 오토스케일링 서비스는 EC2뿐만아니라 여러 AWS 서비스와 유기적으로 연동하여 사용 할수도 있다.

![file](/images/5fd040eab3f600b69a787b0328614fb8.jpg)



## 오토 스케일링 구성 요소



### 오토 스케일링 그룹(Groups)



![file](/images/a447c203a4d7082748b90087b587dd30.jpg)

- EC2 **인스턴스를 조정 및 관리 목적**의 논리 단위로 취급될 수 있도록 **그룹으로 구성**
- 그룹을 생성할 때 EC2 인스턴스의 **최소(minimum size) 및 최대(maximum size) 인스턴스 수와 원하는(desired capacity) 인스턴스 수를 
 지정하고 이 범위안에서 Scale in/out 이 일어난다.**
- 인스턴스 증감은 이 그룹안에서 이루어 지게 되며, 사용자가 지정한 조건을 통해 실행된다
  - 증설 시 어떤 인스턴스 템플릿을 이용할 것인지
  - 얼마나 많은 서버를 필요로 하는지
  - 어떤 값을 기반으로 모니터링해서, 인스턴스를 증설 또는 감축 할 것인지
   4. 추가적으로 증설된 인스턴스가 로드밸런서의 멤버로 연결되어야 한다면, 로드밸런서를 지정할 수도 있다.

![file](/images/0b2b2f4db31d8173f2c3848a6b8eb71a.jpg)



### 시작(구성) 템플릿

![file](/images/c9ec70a98c8629adbcb8c7bd4babe5e4.jpg)

Auto Scaling 그룹에서 인스턴스를 시작하는데 사용하는 템플릿으로, AMI(이미지)라고 생각해도 된다.

템플릿이라 함은 똑같은 OS환경의 인스턴스를 간편하게 복제하기 위해서 구성하는 것이다.

따라서 템플릿을 오토스케일링 그룹에 지정시킴으로서, 오토스케일링을 통해 인스턴스 늘리면 그 인스턴스의 환경 구성이 

템플릿에 설정된 환경에 따라 복제됨으로서 서비스를 늘린다는 개념 원리인 것이다.

인스턴스의 AMI ID, 인스턴스 유형, 키 페어, 보안 그룹, 블록 디바이스 매핑 등의 정보를 세팅해서 템플릿을 구성하게 된다.

템플릿을 구성하면 수정이 불가능하다. 

템플릿은 버젼으로 구분되는데, 만일 옵션을 바꿀 필요가 있으면 새로 생성을 하고 버젼을 새로생성한 버젼으로 바꾸는 식으로 해야한다. 

(뒤의 실습을 보면 이해할수 있을 것이다.)

![file](/images/a07e62dcdd28eb914689175f879c9195.jpg)



### 오토 스케일링 조정 옵션

- <u>**Auto Scaling 그룹을 조정하는 다양한 조건 방법을 설정하는 옵션이다.
**</u> 예를들어, CPU 점유율이 일정 %를 넘었을 때 추가로 늘리거나 아니면 2개 이상이 필요한 스택에서 EC2 하나가 죽었을 때 실행하거나 등
- 현재 인스턴스 수준 유지 관리, 수동 조정, 일정을 기반으로 조정, 온디맨드 기반 조정 등등 이 있다.
- CloudWatch이나 ELB(부하 분산)와 연계가 가능하다.
- 아래 사진과같이 어느 when일때 take the action할지 옵션 조정 메뉴가 있다.
![file](/images/8b9555ba99c30e834f32f40ba5139e71.jpg)



### 오토스케일링 동작 원리

복잡하지만 최대한 간단하게 요약하자면 다음과 같이 된다.

- EC2 인스턴스 클러스터 가 있고 8개의 인스턴스가 필요하다고 가정해보자
- 하드웨어가 터졌다던지 소프트웨어 문제가 터져서 EC2 한개가 죽어버렸다.
- 그럼 이것을 오토스케일링이 감지를 한다
- 그리고 시작구성에 맞는 인스턴스를 생성을 해서 오토 스케일링 클러스터에 넣어준다.
![file](/images/76ef916ae0c789b5b782b93409d14719.jpg)



![file](/images/b029409c45d979ea98074835bdf26b32.jpg)



![file](/images/c586372a34c8d6ee656925fbf9499a33.jpg)



## 오토 스케일링 실전 구축 세팅



### 1. 시작 템플릿 생성

오토스케일링 그룹을 생성하기에 앞서, 어떤 <u>**인스턴스를 어떻게 올릴지 정의하는 템플릿**</u>을 생성한다.

과거에는 **시작 구성(Launch Configuration)**을 사용했지만 현재는 AWS에서는 **시작 템플릿(Template)** 방법 사용을 권장하고 있으며, 

시작 템플릿이 시작 구성에 비해 버전 등 관리가 더 편하다고 한다.

두 가지 모두 Auto Scaling을 위해 생성해야 하는 서비스지만, 시작 구성(Launch Configuration)의 경우 배포할 소스의 버전이 올라가면 

시작 구성을 매번 새로 만들어줘야하는 것에 반해, 시작 Template은 배포할 소스의 버전이 올라가도 해당 템플릿 업데이트를 통해 **버전 관리**가 가능하다.

![file](/images/1ed198c2e381c1bca54e81c71f9086c2.jpg)

![file](/images/a54b4a6cd543f2c7221457b87424918e.jpg)



Auto Scaling으로 인스턴스를 증설하기 위해서는 EC2 AMI 이미지가 필요하다.

리눅스 서버 인스턴스를 증설해야되는데 뜬금없이 윈도우 서버 인스턴스를 생성하면 안되기 때문이다.

미리 만들어놓은 AMI를 고를수도 있고 새 AMI를 고를수도 있다.

- 최근 사용 : 최근에 사용한 AMI 목록
- 내 AMI : 미리 만들어놓은 내 AMI를 선택
- Quick Start : EC2 인스턴스 생성할떄 AMI를 골랐을때 처럼 고를수 있다.
![file](/images/96c10116a03d5ae236095c33ce675488.jpg)



인스턴스 유형 및 전반적인 인스턴스 초기 세팅을 설정한다.

복잡하게 생각할 필요 없이 그냥 EC2 인스턴스 생성했을때 처럼 항목을 선택해주면 된다.

이것들은 오토스케일링으로 인스턴스를 여러개 만들때 어떤 인스턴스 유형으로, 어떤 스토리지로, 어떤 AMI로 만들지 **미리 세팅하는 템플릿 개념**으로 이해하면 된다.

![file](/images/8ac4bc686667e28d853da691faa6e80e.jpg)

![file](/images/b11dc9046d1cace496d6176d9a1e7dc6.jpg)

![file](/images/68485c45cec3b28692ad963f259c4f0d.jpg)

![file](/images/e2458f90ce56dca7830d2a731b055037.jpg)

![file](/images/b225f1a54aa54daf0c305180039666d6.jpg)



### 2. Auto Scaling 그룹 생성

시작 템플릿을 생성했으면 따로 EC2 인스턴스를 생성할수도 있고 이를 기반으로 오토 스케일링 그룹을 생성할 수도 있다.

템플릿을 선택하고 작업 메뉴에서 오토스케일링 그룹 생성을 누른다.

![file](/images/bc4df94b1376e76ff876aa03c19b92f4.jpg)

![file](/images/a72a85c7c18a39ad7a0b89b3b2c36397.jpg)



이제 EC2 인스턴스를 분배할 VPC와 가용영역(AZ)을 선택한다.

서울 리전을 기준으로 ap-northeast-2a와 ap-northeast-2c를 선택했다.

이렇게 가용영역을 두개를 지정하면 Auto Scaling을 통해 인스턴스를 만들 때 가용영역을 번갈아 50% 비중으로 인스턴스를 만들기 때문에 

하나의 가용영역에 문제가 생겨도 상대적으로 영향을 덜 받을 수 있게 된다.

![file](/images/2f12c87954b9d060b30c39b6ecfc0dcb.jpg)



고급 옵션 구성에서는 로드 밸런서를 Auto Scaling 그룹에 연결하거나 Auto Scaling 그룹에서 인스턴스가 정상인지 비정상인지 판단하는 방법에 대한 특정 요구사항을 정의한다.

최종 구상도를 위해서는 필요한 설정이겠지만, 우선은 CPU 사용량에 따른 scale out만을 확인하고자 하니 넘어가도록 하겠다

로드밸런싱에 관해서는 다음 ELB 강의에서 진행하도록 하겠다.

![file](/images/516877c30a3ddfdb1e6c7e9532af1687.jpg)



그룹 크기 및 조정 정책에서는 원하는 용량 , 최소 용량, 최대 용량을 설정해 줄 수 있다.

이 부분이 바로 오토 스케일링을 통해 증설하거나 유지할 인스턴스 개수를 설정하는 부분이다.

![file](/images/a0ede1e4d6ea0fb65ac7c68d3579c3fe.jpg)

- **원하는 용량(그룹 사이즈)**
  - 그룹 내 목표로 하는 인스턴스 수, 평상시에 유지하고 있을 인스턴스 수
 사용자의 필요에 따라 선택할 수 있으며, 최소 및 최대 크기 범위 이내에 있어야 한다.
 이 항목을 입력하지 않으면 Auto Scailing은 최소 크기에 맞춰 인스턴스를 런칭하고, 
 입력하면 해당 값에 맞춰 인스턴스를 추가 또는 종료시키게 된다.
- **최소 용량**
  - 그룹 내 최소 유지할 인스턴스 수
 예를들어 최소가 2이면 자동조정 정책이나 사람에 의해 인스턴스 수를 2개 미만으로 줄일 수 없다.
 Auto Scailing은 인스턴스 수가 최소 크기 이하로 내려가지 않도록 한다.
 이 값을 0으로 설정하면 새 인스턴스를 추가하지 않고 그룹 내에서 실행되는 모든 인스턴스를 종료시키게 된다. 
 (최소를 가장 적게 주고 싶어서 생각없이 0을 줘버리면 싹 EC2가 종료되어리니 조심해야 된다.)
- **최대 용량**
  - 그룹 내 최대 유지할 인스턴스 수
 Auto Scailing은 인스턴스 크기가 최대 크기 이상이 되지 않도록 하며, 예산 제한선을 고려해 예기치 못한 수요에 의해 
 지나치게 많은 인스턴스가 추가되지 않도록 하는 안전장치 역할을 한다.
![file](/images/a400940157980668173a40c351f7853a.jpg)



조정 정책은 앞서 말했듯이, Auto Scaling 그룹을 조정하는 다양한 조건 방법을 설정하는 옵션이다.

![file](/images/9482d83de9059d1d16704338f47dfdac.jpg)

[ 대상 추적 조정 정책 ] 을 선택하고 [ 지표 유형 ] 의 평균 CPU 사용률 대상 값을 80으로 설정해 준다.

이는, 만약 2개의 인스턴스가 가동되는 있는 상황에서 1개의 인스턴스 평균 CPU 사용률이 80%가 넘어가면 새로운 인스턴스를 

생성한다는 **오토스케일링 동작 조건**을 걸어놓은 것이다.



사용할 수 있는 지표 유형은 다음과 같다.

- 평균 CPU 사용률
- 평균 네트워크 입력 / 출력 (byte)
- 대상당 Application Load Balancer 요청 수


지표에 포함하기 전 워밍업 시간(초)는 새로 시작된 인스턴스가 설정해둔 시간까지 조정 정책 지표에 포함시키지 않는다는 뜻이다.

예를 들어, 워밍업 시간을 300초로 해두었다면 새로 생긴 인스턴스가 CPU 사용률이 아주 높을지라도 조정 정책 지표 산정에 300초 동안은

포함되지 않아 스케일 아웃이 동작하지 않는 것이다.



알림 추가는 Auto Scaling 그룹에 인스턴스가 시작/종료 될때마다 SNS 주제로 알림을 전송할 수 있다고 한다.

이번 강의에선 pass를 한다.

![file](/images/66b41da4c2324c36b01a06b8b00d2e93.jpg)



태그 부분은 통과해도 무난하지만, 키는 Name, 값은 auto-group 으로 주시면 생성된 ec2 인스턴스를 관리할때 편리하다.

![file](/images/73a1bf598a63a59cf73a4810e3f7c0da.jpg)



마지막 검토를 하고 오토 스케일링 그룹을 생성 버튼을 누르면 그룹 생성이 완료된다.

![file](/images/bf44afffad3f408d9f68968fbe71f29b.jpg)



### 3. Auto Scaling 그룹 동작 확인하기

오토스켕일링 그룹을 클릭하면 지금까지 설정한 세부 정보를 볼수 있는데, 앞서 원하는용량, 최소용량, 최대용량을 2개로 맞춰놓았었다.

오토스케일링 그룹을 생성하면 바로 앞서 정의한 인스턴스 용량에 따라 자동으로 인스턴스가 바로 업데이트되게 된다.

![file](/images/f578abe63f1d3545d30b2e1c28bbca40.jpg)



활동을 보면 EC2 인스턴스 런치가 성공적으로 됬다는 로그를 볼수 있고, 인스턴스 관리탭에 들어가면 두개가 생성됨을 볼 수있다.

정말로 생성되었는지 확인을 위해 EC2 인스턴스 메뉴에 들어가면 앞서 태그에서 설정한 **auto-group** 별명의 인스턴스가 두개 생성됨을 확인 할 수 있다.

![file](/images/7109c079245645774cc620145022d687.jpg)

![file](/images/7216d7c9a78e7f2d7c2304c62b995dc2.jpg)

이번에는 오토 스케일링 그룹이 원하는 인스턴스 갯수를 맞춰주는지 확인하기 위해, auto-group 인스턴스 하나를 일부러 종료시켜 보자.

예상대로라면 오토 스케일링 그룹의 설정에 원하는 인스턴스 갯수가 2개로 설정하였으니, 다시 2개를 맞춰주기 위해 인스턴스를 한개 추가로 생성해 유지시켜줄 것이다.

![file](/images/03775cf8d68b246117e06f97615fbb13.jpg)

![file](/images/f7a0d24cead01762d4a21d31f53a3ed0.jpg)



### 4. Auto Scaling 그룹 EC2 인스턴스 삭제

만일 <u>**오토 스케일링으로 작동되고 있는 EC2 인스턴스를 삭제**</u>하고 싶다면 어떻게 할까?

이때까지 해왔듯이 EC2 인스턴스 메뉴에서 인스터스 종료를 하면 될까? 그렇게 하면 위에서 했듯이 오토스케일링으로 인해 인스턴스가 복구가 되어 버릴 것이다.

따라서 오토스케일링 인스턴스를 완전히 삭제하기 위해서는, 그룹메뉴에서 <u>**원하는 용량, 최소 용량, 최대 용량을 0으로 설정**</u>해주면 된다.

![file](/images/d0eac55e35e478e50d9ae084b1d60752.jpg)

![file](/images/2913e19ff11ca58c9661d8831243501f.jpg)

![file](/images/8751fd5566de0daabf368f244ddd6291.jpg)



### 5. 시작 템플릿 버젼 업데이트하기

시작 템플릿을 만들면 이미 세팅한 템플릿 설정들을 <u>**수정할수는 없다.**</u>

대신에 템플릿을 새로 만들어서 버젼을 업데이트 하는 형식으로 시작 템플릿 설정들을 간접적으로 바꿔줄수 있다.

우선 시작 템플릿 매니저 메뉴에 들어와서 작업 → 템플릿 수정(새 버젼 생성)을 누른다.

![file](/images/ab6f1e95fa06b2bde3602ca5b42c76fb.jpg)



인스턴스, 스토리지, 네트워크 설정 등을 원하는 대로 재세팅 해준다.

그리고 맨 밑으로 내려가서 고급 세부 정보를 클릭해준다.

![file](/images/a079964f9dd7aeda69cd964c38c81ae8.jpg)

![file](/images/444833560607a8d8bc04b5820e1a2fe0.jpg)

![file](/images/8408f2708bd4c3d499c056a8e7462b40.jpg)



그리고 다음과 같이 입력해준다.

bash 스크립트를 작성해주는데, 그냥 인스턴스 웹페이지로 들어가면 인스턴스 고유ID가 화면에 출력되게 하는 간단한 스크립트 이다.

![file](/images/46d27050292683766f65111e124a278c.jpg)

![file](/images/1b8fa91af2a9436d814bf9b0c780bb81.jpg)

![file](/images/996fca6db32c7e3cab89702fb7562fc7.jpg)



그럼 이제 오토스케일링 그룹에 적용되어 있는 구버젼 시작 템플릿을 위에서 새로 만든 시작 템플릿 버전2로 업데이트를 한다.

![file](/images/7d58b5a23f2517dd168b1b4bf160fbcf.jpg)

![file](/images/606f90c5d67a8de4e962e28ff2052f1b.jpg)

![file](/images/9c313272539add663552bd8e72e5682e.jpg)



만일 오토 스케일링 그룹 용량을 0으로 했다면 다시 2로 맞춰준다.

![file](/images/10464cf78fd18ce862bd008c29818959.jpg)



그럼 다시 인스턴스가 생길것이고, 각 퍼블릭 IP로 웹페이지로 접속해보자

각 퍼블릭 IP 인스턴스에 맞춰 웹페이지에 띄워진 **인스턴스 ID**가 나타날 것이다.

![file](/images/3089a8c0683827ba6e58f8df1c5b3301.jpg)



[원본출처](https://inpa.tistory.com/entry/AWS-%F0%9F%93%9A-EC2-%EC%98%A4%ED%86%A0-%EC%8A%A4%EC%BC%80%EC%9D%BC%EB%A7%81-ELB-%EB%A1%9C%EB%93%9C-%EB%B0%B8%EB%9F%B0%EC%84%9C-%EA%B0%9C%EB%85%90-%EA%B5%AC%EC%B6%95-%EC%84%B8%ED%8C%85-%F0%9F%92%AF-%EC%A0%95%EB%A6%AC)
